import{a as I,b as f,c as $,d as H}from"./chunk-GG7UVMNB.js";import{a as Y}from"./chunk-YJ43SZCY.js";import{e as D}from"./chunk-5M2O64R2.js";import{a as T,b as r,c as N,d as q,e as L,f as l,g as A,h as V,l as z,m as R}from"./chunk-6BRVXONY.js";import"./chunk-CGX67OKF.js";import{Ba as n,Db as S,Eb as j,I as d,N as x,Nb as k,Oa as g,T as M,bb as C,cb as _,gb as s,hb as c,i as w,ib as m,jb as b,kb as h,lb as p,ob as O,rb as v,sb as y,tb as F,yb as E,zb as i}from"./chunk-TQOYVINV.js";function X(o,P){o&1&&(h(0,"span",4),i(1,"This field is required"),p())}function Z(o,P){o&1&&(h(0,"span",4),i(1,"Format +380931111111"),p())}function B(o,P){if(o&1&&(h(0,"div",3),C(1,X,2,0,"span",4),C(2,Z,2,0,"span",4),p()),o&2){let t=F();n(),_(t._objectForControlsPhone.errors!=null&&t._objectForControlsPhone.errors.required?1:-1),n(),_(t._objectForControlsPhone.errors!=null&&t._objectForControlsPhone.errors.pattern?2:-1)}}var Q=(()=>{class o{constructor(){this._phone="",this.objectForControlsPhone=k.required(),this.actionChange=t=>{},this.actionTouch=t=>{}}ngOnInit(){}writeValue(t){this._phone=t}registerOnChange(t){this.actionChange=t}registerOnTouched(t){this.actionTouch=t}get value(){return this._phone}set value(t){this._phone=t,this.actionChange(t),this.actionTouch(t)}get _objectForControlsPhone(){return this.objectForControlsPhone()}eventStarted(t){this.value=t.target.value}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-phone"]],inputs:{objectForControlsPhone:[1,"objectForControlsPhone"]},features:[j([{provide:T,useExisting:x(()=>o),multi:!0}])],decls:5,vars:9,consts:[[1,"wrapper"],[1,"field__name"],["type","tel",1,"field__input",3,"input","value"],[1,"field__error"],[1,"field__error-message"]],template:function(a,e){a&1&&(h(0,"div",0)(1,"span",1),i(2,"Phone"),p(),h(3,"input",2),y("input",function(u){return e.eventStarted(u)}),p(),C(4,B,3,2,"div",3),p()),a&2&&(n(3),E("invalid",e._objectForControlsPhone.invalid&&(e._objectForControlsPhone.touched||e._objectForControlsPhone.dirty))("valid",e._objectForControlsPhone.valid)("untouched",e._objectForControlsPhone.pristine),O("value",S(e.value)),n(),_(e._objectForControlsPhone.invalid&&(e._objectForControlsPhone.touched||e._objectForControlsPhone.dirty)?4:-1))},styles:[".wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.wrapper[_ngcontent-%COMP%]   .field__name[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px;display:inline-block;color:#607d8b;font-weight:300;letter-spacing:1px}.wrapper[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]{width:100%;padding:10px 20px;outline:none;font-weight:400;border:1px solid #607d8b;font-size:16px;letter-spacing:1px;color:#607d8b;background:transparent;border-radius:30px}.wrapper[_ngcontent-%COMP%]   .field__input.valid[_ngcontent-%COMP%]{box-shadow:0 0 5px green,0 0 6px green,0 0 7px green,0 0 8px green,0 0 9px green}.wrapper[_ngcontent-%COMP%]   .field__input.invalid[_ngcontent-%COMP%]{box-shadow:0 0 5px red,0 0 6px red,0 0 7px red,0 0 8px red,0 0 9px red}.wrapper[_ngcontent-%COMP%]   .field__input.untouched[_ngcontent-%COMP%]{box-shadow:none}.wrapper[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:100%}.wrapper[_ngcontent-%COMP%]   .field__error-message[_ngcontent-%COMP%]{color:red}"],changeDetection:0})}}return o})();var _t=(()=>{class o{constructor(){this.authService=M(I),this.destroy$=new w,this.stateName="",this.stateSurname="",this.stateEmail="",this.statePassword="",this.statePhone=""}ngOnInit(){this.emailControl=new l(this.stateEmail,[r.required,r.email]),this.passwordControl=new l(this.statePassword,[r.required,r.minLength(6),f]),this.confirmPasswordControl=new l(this.statePassword,[r.required,f,this.validateAreEqual.bind(this)]),this.nameControl=new l(this.stateName,[r.required,r.minLength(3)]),this.surnameControl=new l(this.stateSurname,[r.required,r.minLength(3)]),this.phoneControl=new l(this.statePhone,[r.required,r.pattern(/^\+380\d{3}\d{2}\d{2}\d{2}$/)]),this.emailControl.statusChanges.pipe(d(this.destroy$)).subscribe(t=>{t==="VALID"&&(this.stateEmail=this.emailControl.value??"")}),this.passwordControl.statusChanges.pipe(d(this.destroy$)).subscribe(t=>{t==="VALID"&&(this.statePassword=(this.passwordControl.value??"")&&(this.confirmPasswordControl.value??""))}),this.nameControl.statusChanges.pipe(d(this.destroy$)).subscribe(t=>{t==="VALID"&&(this.stateName=this.nameControl.value??"")}),this.surnameControl.statusChanges.pipe(d(this.destroy$)).subscribe(t=>{t==="VALID"&&(this.stateSurname=this.surnameControl.value??"")}),this.phoneControl.statusChanges.pipe(d(this.destroy$)).subscribe(t=>{t==="VALID"&&(this.statePhone=this.phoneControl.value??"")})}onSubmit(t){t.preventDefault(),this.stateEmail&&this.statePassword&&this.stateName&&this.stateSurname&&this.statePhone?this.authService.registry({email:this.stateEmail,password:this.statePassword,name:this.stateName,surname:this.stateSurname,phone:this.statePhone}):console.log("Something went wrong!")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}validateAreEqual(t){return this.passwordControl.value===t.value?null:{NotEqual:!0}}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-registration"]],decls:23,vars:17,consts:[[1,"wrapper"],[1,"content"],[1,"form-box"],[1,"form-box__header"],["action","","method","post",3,"ngSubmit"],[3,"formControl","objectForControlsText","placeHolder"],[3,"formControl","objectForControlsEmail"],[3,"formControl","objectForControlsPassword","placeHolder"],[3,"formControl","objectForControlsPassword","mainFieldPassword","placeHolder"],[3,"formControl","objectForControlsPhone"],[1,"form-box__field"],["type","submit",1,"button"],["routerLink","/login"],[1,"image-box"]],template:function(a,e){a&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),i(4,"Registration"),m(),c(5,"form",4),v("ngSubmit",function(u){return e.onSubmit(u)}),b(6,"app-text",5)(7,"app-text",5)(8,"app-email",6)(9,"app-password",7)(10,"app-password",8)(11,"app-phone",9),c(12,"div",10)(13,"button",11)(14,"span"),i(15,"Register"),m()()(),c(16,"div",10)(17,"p"),i(18," If you already have an account, you can "),c(19,"a",12),i(20,"Sign in"),m(),i(21," here "),m()()()()(),b(22,"div",13),m()),a&2&&(n(6),s("formControl",e.nameControl)("objectForControlsText",e.nameControl)("placeHolder","Name"),n(),s("formControl",e.surnameControl)("objectForControlsText",e.surnameControl)("placeHolder","Surname"),n(),s("formControl",e.emailControl)("objectForControlsEmail",e.emailControl),n(),s("formControl",e.passwordControl)("objectForControlsPassword",e.passwordControl)("placeHolder","Password"),n(),s("formControl",e.confirmPasswordControl)("objectForControlsPassword",e.confirmPasswordControl)("mainFieldPassword",e.passwordControl.value??"")("placeHolder","Confirm password"),n(),s("formControl",e.phoneControl)("objectForControlsPhone",e.phoneControl))},dependencies:[z,A,N,q,L,Y,R,V,$,H,Q,D],styles:['.wrapper[_ngcontent-%COMP%]{padding-top:110px;position:relative;width:100%;min-height:100%;display:flex}.wrapper[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{position:relative;width:50%;height:100%;background:url("./media/pavlo-Q-Z0YRPOn2Q-unsplash-XY66I34A.webp");background-position:left center;background-repeat:no-repeat;background-size:cover}.wrapper[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:linear-gradient(225deg,#aa076b,#61045f);mix-blend-mode:screen}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%;height:100vh}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]{width:50%}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__header[_ngcontent-%COMP%]{color:#607d8b;font-weight:600;font-size:1.5rem;text-transform:uppercase;margin-bottom:20px;border-bottom:4px solid #aa076b;letter-spacing:1px;display:inline-block}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]{margin-bottom:20px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;display:block;width:100%;padding:10px;border:2px solid #aa076b;font-weight:600;color:#607d8b;letter-spacing:2px;transition:.5s;cursor:pointer;transition-delay:0s;background:transparent;border-radius:30px;font-size:1.3rem}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:100}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{transition-delay:1.5s;color:#fff;box-shadow:0 0 5px #aa076b,0 0 10px #aa076b,0 0 15px #aa076b,0 0 20px #aa076b,0 0 25px #aa076b}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-20px;top:50%;transform:translateY(-50%);width:20px;height:2px;background:#aa076b;box-shadow:5px -8px #aa076b,5px 8px #aa076b;transition:width .5s,left .5s,height .5s,box-shadow .5s;transition-delay:1s,.5s,0s,0s;border-radius:30px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:before{width:60%;height:102%;left:-2px;box-shadow:5px 0 #aa076b,5px 0 #aa076b;transition-delay:0s,.5s,1s,1s}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-20px;top:50%;transform:translateY(-50%);width:20px;height:2px;background:#aa076b;box-shadow:-5px -8px #aa076b,-5px 8px #aa076b;transition:width .5s,left .5s,height .5s,box-shadow .5s;transition-delay:1s,.5s,0s,0s;border-radius:30px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:after{width:60%;height:102%;right:-2px;box-shadow:-5px 0 #aa076b,-5px 0 #aa076b;transition-delay:0s,.5s,1s,1s}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#607d8b}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box__field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#aa076b;margin-left:5px}@media screen and (max-width:1200px){.wrapper[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{background-position:20% 50%;background-size:cover;background-repeat:no-repeat}}@media(max-width:700px){.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:url("./media/nasa-Q1p7bh3SHj8-unsplash-SC6NEEV7.webp");background-position:center center;background-size:cover;background-repeat:no-repeat}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]{width:100%;padding:40px;background:#ffffffe6;margin:50px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:30px 0 10px}}'],changeDetection:0})}}return o})();export{_t as RegistrationComponent};
