import{a as k}from"./chunk-S5TJB7VF.js";import{d as W,e as R,g as G,j as q,k as K,l as J}from"./chunk-6BRVXONY.js";import"./chunk-QX4HYPGJ.js";import{a as T}from"./chunk-FU55QLDC.js";import{k as Y,r as z}from"./chunk-CGX67OKF.js";import{Aa as B,Ab as g,Ba as c,Bb as y,C as S,Cb as U,Db as $,Fb as I,Hb as H,I as M,Ib as j,Lb as V,Nb as O,O as L,Oa as x,T as P,Z as E,_ as A,bb as C,cb as u,eb as b,fb as w,gb as f,hb as o,i as _,ib as i,ja as v,jb as d,la as D,nb as F,rb as m,tb as h,ya as N,zb as r}from"./chunk-TQOYVINV.js";var X=(()=>{class e{constructor(){this.http=P(z),this.rootUrl="https://api.countrylayer.com/v2"}getAllCountries(){let t={params:{access_key:T.countryApiKey}};return this.http.get(`${this.rootUrl}/all`,t).pipe(S(1e3))}getFilteredCountries(t){let n={params:{access_key:T.countryApiKey,fulltext:"true"}};return this.http.get(`${this.rootUrl}/regionalbloc/${t}`,n).pipe(S(1e3))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var tt=(e,l)=>l.alpha2Code;function et(e,l){if(e&1){let t=F();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r(4),i(),o(5,"button",5),m("click",function(a){E(t);let s=h(2);return A(s.onMoreClick(a))}),o(6,"span",6),r(7,"More"),i(),d(8,"span",7),i()(),o(9,"div",8),d(10,"img",9),i(),o(11,"ul",10)(12,"li")(13,"div",11),r(14,"Capital"),i(),o(15,"div",12),r(16),i()(),o(17,"li")(18,"div",11),r(19,"Country code"),i(),o(20,"div",12),r(21),i()(),o(22,"li")(23,"div",11),r(24,"Region"),i(),o(25,"div",12),r(26),i()(),o(27,"li")(28,"div",11),r(29,"Population"),i(),o(30,"div",12),r(31),i()()()(),o(32,"div",13)(33,"button",5),m("click",function(a){E(t);let s=h(2);return A(s.onGoBackClick(a))}),o(34,"span",6),r(35,"Back"),i(),d(36,"span",7),i(),o(37,"ul",10)(38,"li")(39,"div",11),r(40,"Area"),i(),o(41,"div",12),r(42),o(43,"sup"),r(44,"2"),i()()(),o(45,"li")(46,"div",11),r(47,"Lat/Lng"),i(),o(48,"div",12),r(49),I(50,"slice"),I(51,"slice"),i()(),o(52,"li")(53,"div",11),r(54,"Demonym"),i(),o(55,"div",12),r(56),i()(),o(57,"li")(58,"div",11),r(59,"Subregion"),i(),o(60,"div",12),r(61),i()()()()()}if(e&2){let t=l.$implicit;c(4),g(t.name),c(6),f("src",$(t.flag),N),c(6),g(t.capital),c(5),g(t.alpha3Code),c(5),g(t.region),c(5),g(t.population),c(11),y("",t.area," km"),c(7),U(" ",j(50,12,t.latlng,0,1)," / ",H(51,16,t.latlng,1)," "),c(7),g(t.demonym),c(5),g(t.subregion)}}function nt(e,l){if(e&1&&(o(0,"article",0),b(1,et,62,19,"div",1,tt),i()),e&2){let t=h();c(),w(t.filteredNotes())}}function ot(e,l){e&1&&d(0,"app-loader")}var Z=(()=>{class e{constructor(){this.destroy$=new _,this.loaded=!1,this.changing=O(new _),this.data=O([]),this.searchItem=O(""),this.resetLoading=O(!1),this.noteOfPage=8,this.counter=1,this.currentData=[],this.filteredNotes=V(()=>{let t=this.searchItem().toLowerCase();return!this.notes||this.notes.length===0||t===" "?this.notes:this.notes.filter(n=>n.name.toLowerCase().includes(t))}),D(()=>{let t=this.data();t&&t.length>=0&&(this.currentData=t,this.loadData())}),D(()=>{this.resetLoading()&&(this.loaded=!1)})}ngOnInit(){this.changing().pipe(M(this.destroy$)).subscribe(t=>{this.currentData=t,this.loadData()})}onMoreClick(t){let n=t.target;this.showHideBlock(n,".front","next")}onGoBackClick(t){let n=t.target;this.showHideBlock(n,".back","prev")}onWindowScroll(){if(this.currentData.length===this.notes?.length){this.counter=0;return}let t=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,n=document.documentElement.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,a=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;n-t<=a+100&&(this.counter=this.counter+1,this.loadData())}loadData(){let n=(this.counter-1)*this.noteOfPage+this.noteOfPage;this.notes=this.currentData.slice(0,n),this.loaded=!0}showHideBlock(t,n,a){let s=t.closest(n),p;switch(a){case"next":p=s?.nextElementSibling;break;case"prev":p=s?.previousElementSibling;break;default:break}s?.classList.contains("active")&&(s?.classList.remove("active"),p?.classList.add("active"))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=x({type:e,selectors:[["app-country-block"]],hostBindings:function(n,a){n&1&&m("scroll",function(){return a.onWindowScroll()},B)},inputs:{changing:[1,"changing"],data:[1,"data"],searchItem:[1,"searchItem"],resetLoading:[1,"resetLoading"]},decls:2,vars:2,consts:[[1,"container"],[1,"card"],[1,"front","active"],[1,"divider"],[1,"location"],["href","","type","button",1,"wave-btn",3,"click"],[1,"wave-btn__text"],[1,"wave-btn__waves"],[1,"weather"],["alt","",3,"src"],[1,"forecast"],[1,"day"],[1,"temperature"],[1,"back"]],template:function(n,a){n&1&&(C(0,nt,3,0,"article",0),C(1,ot,1,0,"app-loader")),n&2&&(u(a.loaded?0:-1),c(),u(a.loaded?-1:1))},dependencies:[k,Y],styles:['.container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;display:grid;background:#141e30;background:linear-gradient(90deg,#141e30,#243b55);grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:auto;grid-row-gap:10px;grid-column-gap:5px;justify-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:250px;min-height:300px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{width:100%;height:100%;background:#00a170;padding:30px;transition:.5s;transform-origin:right;transform:translate(-100%) rotateY(90deg);border-radius:15px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front.active[_ngcontent-%COMP%]{transform:translate(0) rotateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:600;width:50%;text-align:left;color:#fff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]{width:50%;height:30px;display:flex;border-radius:0 0 10px 10px;justify-content:center;align-items:center;transition:all .8s ease 0s;background:none;position:relative;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]:hover{border-radius:10px;transition:all .8s ease .2s;box-shadow:0 0 40px #4973ff99}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]:hover   .wave-btn__waves[_ngcontent-%COMP%]{top:-50px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__text[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;letter-spacing:1px;position:relative;z-index:1}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]{position:absolute;height:280px;width:280px;top:0;left:0;background-color:#4973ff;box-shadow:inset 0 0 50px #00000080;transition:top .8s ease 0s;will-change:top}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:250%;height:250%;transform:translate3d(-50%,-96%,0) rotate(0) scale(1)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:before{background-color:#333;border-radius:48%;animation:_ngcontent-%COMP%_waves 5s infinite linear}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:after{background-color:#33333380;border-radius:44%;animation:_ngcontent-%COMP%_waves 10s infinite linear}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .weather[_ngcontent-%COMP%]{width:100%;height:100px;position:relative;padding:50px 0 20px;text-align:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .weather[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .forecast[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:2px solid #fff;display:flex;font-weight:600;cursor:pointer;color:#fff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .forecast[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .forecast[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:50%}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .forecast[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{width:50%;text-align:right}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;padding:30px;background:#d2386c;transform-origin:left;transition:.5s;transform:translate(100%) rotateY(90deg);border-radius:15px;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back.active[_ngcontent-%COMP%]{transform:translate(0) rotateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:2px solid #fff;display:flex;font-weight:600;cursor:pointer;color:#fff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:50%}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{width:50%;text-align:right}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]{align-self:flex-end;width:50%;height:30px;display:flex;border-radius:0 0 10px 10px;justify-content:center;align-items:center;transition:all .8s ease 0s;background:none;position:relative;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]:hover{border-radius:10px;transition:all .8s ease .2s;box-shadow:0 0 40px #4973ff99}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn[_ngcontent-%COMP%]:hover   .wave-btn__waves[_ngcontent-%COMP%]{top:-50px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__text[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;letter-spacing:1px;position:relative;z-index:1}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]{position:absolute;height:280px;width:280px;top:0;left:0;background-color:#4973ff;box-shadow:inset 0 0 50px #00000080;transition:top .8s ease 0s;will-change:top}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:250%;height:250%;transform:translate3d(-50%,-96%,0) rotate(0) scale(1)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:before{background-color:#333;border-radius:48%;animation:_ngcontent-%COMP%_waves 5s infinite linear}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .wave-btn__waves[_ngcontent-%COMP%]:after{background-color:#33333380;border-radius:44%;animation:_ngcontent-%COMP%_waves 10s infinite linear}@keyframes _ngcontent-%COMP%_waves{0%{transform:translate3d(-50%,-96%,0) rotate(0) scale(1)}to{transform:translate3d(-50%,-96%,0) rotate(360deg) scale(1)}}@media(max-width:1030px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}@media(max-width:780px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media(max-width:510px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}}'],changeDetection:0})}}return e})();var it=(e,l)=>l.value;function rt(e,l){if(e&1&&(o(0,"option",7),r(1),i()),e&2){let t=l.$implicit;f("ngValue",t.value)("value",t.value),c(),y(" ",t.name," ")}}function at(e,l){if(e&1&&d(0,"app-country-block",8),e&2){let t=h();f("data",t.countries())("searchItem",t.searchCountry())("changing",t.userUpdatedEvent)("resetLoading",t.resetLoadingSignal())}}function ct(e,l){e&1&&d(0,"app-loader")}var It=(()=>{class e{constructor(){this.countriesService=P(X),this.destroy$=new _,this.countries=v([]),this.resetLoadingSignal=v(!1),this.options=[{value:"all",name:"All countries"},{value:"EU",name:"European Union"},{value:"EFTA",name:"European Free Trade Association"},{value:"PA",name:"Pacific Alliance"},{value:"AU",name:"African Union"},{value:"USAN",name:"Union of South American Nations"},{value:"EEU",name:"Eurasian Economic Union"},{value:"AL",name:"Arab League"},{value:"ASEAN",name:"Association of Southeast Asian Nations"},{value:"CAIS",name:"Central American Integration System"},{value:"CEFTA",name:"Central European Free Trade Agreement"},{value:"NAFTA",name:"North American Free Trade Agreement"},{value:"SAARC",name:"South Asian Association for Regional Cooperation"}],this.searchCountry=v(""),this.userUpdatedEvent=new _}ngOnInit(){this.userUpdatedEvent.next(this.countries()),this.countriesService.getAllCountries().pipe(M(this.destroy$)).subscribe(t=>{this.countries.set(t)})}onFilterChange(t){let n=t.target.value;this.resetLoadingSignal.set(!0),(n==="all"?this.countriesService.getAllCountries():this.countriesService.getFilteredCountries(n)).pipe(M(this.destroy$)).subscribe(s=>{this.countries.set(s),this.userUpdatedEvent.next(this.countries()),this.resetLoadingSignal.set(!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=x({type:e,selectors:[["app-country"]],decls:16,vars:3,consts:[[1,"wrapper"],["data-title","Countries of the World",1,"title"],["action","",1,"form"],[1,"form__row"],["for","sort",1,"form__row-label"],["type","text","name","search","id","sort",1,"form__row-input",3,"input","value"],["name","","id","sort",1,"form__row-select",3,"change"],[3,"ngValue","value"],[3,"data","searchItem","changing","resetLoading"]],template:function(n,a){n&1&&(o(0,"section",0)(1,"h2",1),r(2,"Countries of the World"),i(),o(3,"form",2)(4,"div",3)(5,"label",4),r(6,"Filter by name"),i(),o(7,"input",5),m("input",function(p){return a.searchCountry.set(p.target.value)}),i()(),o(8,"div",3)(9,"label",4),r(10,"Sort by Regional Block"),i(),o(11,"select",6),m("change",function(p){return a.onFilterChange(p)}),b(12,rt,2,3,"option",7,it),i()()(),C(14,at,1,4,"app-country-block",8),C(15,ct,1,0,"app-loader"),i()),n&2&&(c(7),f("value",a.searchCountry()),c(5),w(a.options),c(2),u(a.countries().length>0?14:-1),c(),u(a.countries().length===0?15:-1))},dependencies:[J,G,q,K,W,R,Z,k],styles:[".wrapper[_ngcontent-%COMP%]{padding-top:110px;position:relative;display:grid;grid-template-columns:1fr;grid-template-rows:min-content 50px auto;width:100%;min-height:100%;background:#141e30;background:linear-gradient(90deg,#141e30,#243b55)}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:inherit;align-self:center;color:#d2386c;font-size:3rem;letter-spacing:5px;text-align:center;text-transform:uppercase;transition:.5s;text-shadow:0 5px 0 rgb(0,0,0),0 10px 40px rgba(0,0,0,.2),0 20px 30px rgba(0,0,0,.2),0 30px 20px rgba(0,0,0,.2)}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:before{width:100%;content:attr(data-title);position:absolute;top:-3px;left:0;text-shadow:0 2px 2px rgba(0,0,0,.5);color:#00a170;transition:.5s}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{width:100%;content:attr(data-title);position:absolute;top:-7px;left:0;text-shadow:0 2px 2px rgba(0,0,0,.5);color:#fff;transition:.5s}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover:before{top:-5px;left:5px}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover:after{top:-10px;left:10px}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{text-shadow:-5px 10px 0 rgb(0,0,0),0 10px 40px rgba(0,0,0,.2),0 20px 30px rgba(0,0,0,.5),-10px 20px 20px rgba(0,0,0,.5)}.wrapper[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:90%;height:50px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .form__row[_ngcontent-%COMP%]{width:calc(50% - 20px);height:60%;display:flex;align-items:center;justify-content:space-evenly;margin-right:20px}.wrapper[_ngcontent-%COMP%]   .form__row-label[_ngcontent-%COMP%]{color:#fff}.wrapper[_ngcontent-%COMP%]   .form__row-input[_ngcontent-%COMP%]{height:100%;box-shadow:none;font-size:18px;padding:0 10px}.wrapper[_ngcontent-%COMP%]   .form__row-select[_ngcontent-%COMP%]{height:100%}"],changeDetection:0})}}return e})();export{It as CountryComponent};
